(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{12:function(e,t,n){"use strict";n.d(t,"c",(function(){return j})),n.d(t,"b",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"a",(function(){return f}));var r=n(3),c=n(47),a=n(1),i=n(0),o=n(15),s=n.n(o),u=n(120),l=n.p+"static/media/Upload-icon.0ffb4073.png",d=function(e){e.input;var t=e.meta,n=t.touched,r=t.error,c=t.warning,i=e.children,o=n&&r,u=n&&c;return Object(a.jsxs)("div",{className:s.a.formControl+" "+(o?s.a.error:"")+" "+(u?s.a.warning:""),children:[i,o&&Object(a.jsx)("span",{children:r})||u&&Object(a.jsx)("span",{children:c})]})},j=function(e){var t=e.input,n=(e.meta,e.child,Object(c.a)(e,["input","meta","child"]));return console.log(n.onCTRLEnt),Object(a.jsx)(d,Object(r.a)(Object(r.a)({},e),{},{children:Object(a.jsx)("textarea",Object(r.a)(Object(r.a)(Object(r.a)({},t),n),{},{onKeyUp:n.onCTRLEnt}))}))},b=function(e){var t=e.input,n=(e.meta,e.child,Object(c.a)(e,["input","meta","child"]));return Object(a.jsx)(d,Object(r.a)(Object(r.a)({},e),{},{children:Object(a.jsx)("input",Object(r.a)(Object(r.a)({},t),n))}))},p=function(e,t,n,c){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return Object(a.jsxs)("div",{className:"",children:[Object(a.jsx)(u.a,Object(r.a)({placeholder:e,name:t,component:n,validate:c},i)),o]})};function f(e){var t=Object.assign({},e),n=Object(i.useRef)(null),o=function(e){var t=Object(i.useRef)();return Object(i.useEffect)((function(){t.current=e})),t.current}(t.meta.pristine);Object(i.useEffect)((function(){!1===o&&!0===t.meta.pristine&&(n.current.src="")}),[t.meta.pristine]);var u=function(e,t){e.preventDefault();var r,c=e.target.files[0];if(c){var a=URL.createObjectURL(c),i=new window.Image;i.onload=function(){c.width=i.naturalWidth,c.height=i.naturalHeight,t.onChange(c),URL.revokeObjectURL(c)},i.src=a,r=a,n.current.src=r}e.currentTarget.value=null},j=t.input,b=(t.meta,t.child,Object(c.a)(t,["input","meta","child"]));return Object(a.jsxs)(d,Object(r.a)(Object(r.a)({},t),{},{children:[Object(a.jsx)("div",{className:s.a.imgContainer,children:Object(a.jsx)("img",{src:"",alt:t.alt,className:"preview-image",ref:n})}),Object(a.jsx)("label",{for:"thatImage",className:s.a.uploadIcon,children:Object(a.jsx)("img",{src:l,style:{width:"100px",height:"100px"},alt:"nothing"})}),Object(a.jsx)("input",Object(r.a)({id:"thatImage",name:j.name,style:{opacity:0,height:"0px"},type:"file",accept:t.mimeType,onChange:function(e){return u(e,j)}},b))]}))}},130:function(e,t,n){e.exports={container:"Preloader_container__1VGeq"}},14:function(e,t,n){"use strict";n.d(t,"i",(function(){return u})),n.d(t,"c",(function(){return b})),n.d(t,"h",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return m})),n.d(t,"j",(function(){return O})),n.d(t,"g",(function(){return v})),n.d(t,"f",(function(){return g})),n.d(t,"e",(function(){return x}));var r,c,a,i,o,s,u=function(e){if(!e)return"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435!"},l=function(e){return function(t){return t&&t.length>e?"\u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 ".concat(e," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"):void 0}},d=(r=20,function(e){return e&&e.length<r?"\u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 ".concat(r," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"):void 0}),j=l(60),b=function(e){if(void 0!==d(e)||void 0!==j(e))return"M\u0438\u043d\u0438\u043c\u0443\u043c 20, \u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c 60 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"},p=l(200),f=function(e){var t=+e;if(t.toFixed(2)==t){if(0<=t&&t<=99999999.99)return}return"\u0426\u0435\u043d\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 \u0441 2 \u0447\u0438\u0441\u043b\u0430\u043c\u0438 \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u043f\u044f\u0442\u043e\u0439: '0.00'. \u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435: '99999999.99'"},h=function(e){if(void 0!==e){var t=+e;return Number.isInteger(t)?10<=t&&t<=90?void 0:"\u0427\u0438\u0441\u043b\u043e \u043d\u0435 \u0432 \u043f\u0440\u0435\u0434\u0435\u043b\u0430\u0445 10-90 %":"\u0427\u0438\u0441\u043b\u043e \u043d\u0435 \u0446\u0435\u043b\u043e\u0435"}},m=function(e){if(void 0!==e&&!(Date.parse(e)>+new Date))return"\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u0441\u043a\u0438\u0434\u043a\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u0434\u0430\u0442\u044b"},O=function(e){var t={};return e.discount?e.discountEndTime||(t.discountEndTime="\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435!"):e.discountEndTime&&(e.discount||(t.discount="\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435!")),t},v=(c=200,a=4e3,function(e){if(e&&(e.width>a||e.width<c))return"\u0428\u0438\u0440\u0438\u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 ".concat(c,"px  \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 ").concat(a,"px")}),g=(i=200,o=4e3,function(e){if(e&&(e.height>o||e.height<i))return"\u0412\u044b\u0441\u043e\u0442\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 ".concat(i,"px \u0438 \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 ").concat(o,"px")}),x=(s="image/jpeg, image/png",function(e){if(e&&!s.includes(e.type))return"\u0422\u0438\u043f \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043e\u0434\u043d\u0438\u043c \u0438\u0437: ".concat(s)})},15:function(e,t,n){e.exports={formControl:"FormsControls_formControl__2ZNMf",error:"FormsControls_error__3FPkv",warning:"FormsControls_warning__3-9Ji",redux_form:"FormsControls_redux_form__2KMqr",formButtons:"FormsControls_formButtons__2Il_5",formSummaryError:"FormsControls_formSummaryError__M0EwL",header:"FormsControls_header__23ev9",wholeForm:"FormsControls_wholeForm__2BeEg",operationContainer:"FormsControls_operationContainer__3DNz2",operationHeader:"FormsControls_operationHeader__1NgkQ",imgContainer:"FormsControls_imgContainer__yj_cs",uploadIcon:"FormsControls_uploadIcon__1W7OA"}},162:function(e,t,n){},24:function(e,t,n){e.exports={nav:"Navbar_nav__12XVe",item:"Navbar_item__24jqm",activeLink:"Navbar_activeLink__2-6Px"}},28:function(e,t,n){e.exports={imgSmallContainer:"Product_imgSmallContainer__JX_R7",imgMiddleContainer:"Product_imgMiddleContainer__1TK93",productOperationContainer:"Product_productOperationContainer__2CSib",productContainer:"Product_productContainer__3MSFE",productAdded:"Product_productAdded__3IIyZ",fieldDescr:"Product_fieldDescr__1aSMZ",discount:"Product_discount__184h9",catalog:"Product_catalog__3f8H9"}},284:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(0),a=n.n(c),i=n(68),o=n.n(i),s=(n(162),n(13)),u=n(16),l=n(11),d=n(3),j=n(8),b=n.n(j),p=n(17),f=n(35),h=n(21),m="SET_USER_DATA",O={userId:null,email:null,isAuth:!1},v=function(e,t,n){return{type:m,payload:{userId:e,email:t,isAuth:n}}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(d.a)(Object(d.a)({},e),t.payload);default:return Object(d.a)({},e)}},x="INITIALIZED_SUCCESS",_={initialized:!1},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(d.a)(Object(d.a)({},e),{},{initialized:!0});default:return Object(d.a)({},e)}};function w(e){return function(t){return Object(r.jsx)(a.a.Suspense,{fallback:Object(r.jsx)("div",{children:"loading..."}),children:Object(r.jsx)(e,Object(d.a)({},t))})}}var k=n(47),C=n(69),N=n(41),E=n(121),P=n(12),F=n(14),S=n(51),D=n(15),A=n.n(D),T=n(28),I=n.n(T),L=n(67),U=n(97),R=Object(E.a)({form:"updateProduct",validate:F.j})((function(e){var t=Object(c.useState)(Object.values(e.product).reduce((function(e,t){return e[t]=!1,e}),{})),n=Object(N.a)(t,2),a=n[0],i=n[1],o=e.handleSubmit,s=e.pristine,u=e.reset,l=e.submitting,j=e.error,b=e.product,p=function(e){i(Object(d.a)(Object(d.a)({},a),{},Object(C.a)({},e,!0)))};return Object(r.jsxs)("form",{onSubmit:o,className:A.a.wholeForm,children:[Object(r.jsx)("div",{className:I.a.fieldDescr,children:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430"}),a.name?Object(P.d)("".concat(b.name),"name",P.b,[F.i,F.c]):Object(r.jsx)("div",{id:"name",onDoubleClick:function(){return p("name")},children:b.name}),Object(r.jsx)("div",{className:I.a.fieldDescr,children:"\u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u0444\u043e\u0442\u043e \u0442\u043e\u0432\u0430\u0440\u0430"}),Object(r.jsx)("div",{className:I.a.imgMiddleContainer,children:Object(r.jsx)("img",{src:b.photo,alt:"Data"})}),Object(r.jsx)("div",{className:I.a.fieldDescr,children:"\u041d\u043e\u0432\u043e\u0435 \u0444\u043e\u0442\u043e \u0442\u043e\u0432\u0430\u0440\u0430"}),Object(P.d)("\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0444\u043e\u0442\u043e ...","photo",P.a,[F.i,F.e,F.g,F.f],{mimeType:"image/jpeg, image/png",maxWidth:4e3,minHeight:200,minWidth:200,maxHeight:4e3,alt:"\u0424\u043e\u0442\u043e \u0442\u043e\u0432\u0430\u0440\u0430"}),Object(r.jsx)("div",{className:I.a.fieldDescr,children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430"}),a.description?Object(P.d)("".concat(b.description||"..."),"description",P.b,[F.h]):Object(r.jsx)("div",{onDoubleClick:function(){return p("description")},children:b.description||"..."}),Object(r.jsx)("div",{className:I.a.fieldDescr,children:"\u0426\u0435\u043d\u0430 \u0442\u043e\u0432\u0430\u0440\u0430"}),a.price?Object(P.d)("".concat(b.price),"price",P.b,[F.i,F.d]):Object(r.jsx)("div",{onDoubleClick:function(){return p("price")},children:b.price}),Object(r.jsx)("div",{className:I.a.fieldDescr,children:"\u0421\u043a\u0438\u0434\u043a\u0430"}),a.discount?Object(P.d)("".concat(b.discount||"..."),"discount",P.b,[F.i,F.a]):Object(r.jsx)("div",{onDoubleClick:function(){return p("discount")},children:b.discount||"..."}),Object(r.jsx)("div",{className:I.a.fieldDescr,children:"\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u0430\u043a\u0446\u0438\u0438"}),a.discountEndTime?Object(P.d)("".concat(b.discountEndTime||"..."),"discountEndTime",P.b,[F.i,F.b]):Object(r.jsx)("div",{onDoubleClick:function(){return p("discountEndTime")},children:b.discountEndTime||"..."}),j&&Object(r.jsx)("div",{className:A.a.formSummaryError,children:j}),Object(r.jsx)("div",{className:"",children:Object(r.jsx)("button",{type:"submit",disabled:s||l,children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"})}),Object(r.jsx)("div",{className:"",children:Object(r.jsx)("button",{type:"button",disabled:s||l,onClick:u,children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f"})})]})})),z=Object(l.d)(U.a,Object(u.b)((function(e){return{isFetching:e.products.isFetching,currentProduct:e.products.selectedProduct}}),{getProduct:S.d,updateProduct:S.g}),s.f)((function(e){var t=e.updateProduct,n=e.getProduct,a=e.currentProduct,i=e.isFetching,o=Object(k.a)(e,["updateProduct","getProduct","currentProduct","isFetching"]),s=Object(c.useState)(!1),u=Object(N.a)(s,2),l=u[0],j=u[1],f=Object(c.useRef)();Object(c.useEffect)((function(){f.current&&o.history.push("/catalog")}),[i]);var h=function(){var e=Object(p.a)(b.a.mark((function e(n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(d.a)(Object(d.a)({},a),n),console.log(a),e.next=4,t(a.key,r);case 4:f.current=!0;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){l||function(){var e=Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.match.params.productKey){e.next=5;break}o.history.push("/catalog"),e.next=8;break;case 5:return e.next=7,n(t);case 7:j(!0);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[o.match.params.key,n,o.history,l]),l?Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:I.a.productOperationContainer,children:[Object(r.jsx)("h1",{className:I.a.productOperationHeader,children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440"}),Object(r.jsx)(R,{onSubmit:h,product:a})]})}):Object(r.jsx)(L.a,{})})),B=Object(E.a)({form:"signin"})((function(e){var t=e.handleSubmit,n=e.pristine,c=e.reset,a=e.submitting,i=e.error;return Object(r.jsxs)("form",{onSubmit:t,className:A.a.wholeForm,children:[Object(P.d)("Email","email",P.b,[F.i]),Object(P.d)("Password","password",P.b,[F.i],{type:"password"}),i&&Object(r.jsx)("div",{className:A.a.formSummaryError,children:i}),Object(r.jsx)("div",{className:"",children:Object(r.jsx)("button",{type:"submit",disabled:n||a,children:"\u0412\u043e\u0439\u0442\u0438"})}),Object(r.jsx)("div",{className:"",children:Object(r.jsx)("button",{type:"button",disabled:n||a,onClick:c,children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f"})})]})})),H=Object(u.b)((function(e){return{isAuth:e.auth.isAuth}}),{signin:function(e,t){return function(){var n=Object(p.a)(b.a.mark((function n(r){var c;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,f.a.auth().signInWithEmailAndPassword(e,t);case 3:c=n.sent,r(v(c.user.uid,e,!0)),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0.message),r(Object(h.b)("signin",{_error:n.t0.message}));case 11:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}})((function(e){return e.isAuth?Object(r.jsx)(s.a,{to:"/catalog"}):Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:A.a.operationContainer,children:[Object(r.jsx)("h1",{className:A.a.operationHeader,children:"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"}),Object(r.jsx)(B,{onSubmit:function(t){e.signin(t.email,t.password)}})]})})})),K=Object(E.a)({form:"signup"})((function(e){var t=e.handleSubmit,n=e.pristine,c=e.reset,a=e.submitting,i=e.error;return Object(r.jsxs)("form",{onSubmit:t,className:A.a.wholeForm,children:[Object(P.d)("Email","email",P.b,[F.i]),Object(P.d)("Password","password",P.b,[F.i],{type:"password"}),i&&Object(r.jsx)("div",{className:A.a.formSummaryError,children:i}),Object(r.jsx)("div",{className:"",children:Object(r.jsx)("button",{type:"submit",disabled:n||a,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})}),Object(r.jsx)("div",{className:"",children:Object(r.jsx)("button",{type:"button",disabled:n||a,onClick:c,children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f"})})]})})),M=Object(u.b)((function(e){return{isAuth:e.auth.isAuth}}),{signup:function(e,t){return function(){var n=Object(p.a)(b.a.mark((function n(r){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,f.a.auth().createUserWithEmailAndPassword(e,t);case 3:n.next=9;break;case 5:n.prev=5,n.t0=n.catch(0),console.log(n.t0.message),r(Object(h.b)("signup",{_error:n.t0.message}));case 9:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(e){return n.apply(this,arguments)}}()}})((function(e){return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:A.a.operationContainer,children:[Object(r.jsx)("h1",{className:A.a.operationHeader,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442"}),Object(r.jsx)(K,{onSubmit:function(t){e.signup(t.email,t.password)}})]})})})),V=n(43),G=n(44),W=n(73),Z=n(72),q=n(75),J=n.n(q),X=n(19),Q=function(e){return Object(r.jsx)("header",{className:J.a.header,children:e.isAuth?Object(r.jsxs)("div",{className:J.a.loginBlock,children:[e.email," - ",Object(r.jsx)("a",{onClick:e.signout,children:"\u0412\u044b\u0439\u0442\u0438"})]}):Object(r.jsx)("div",{className:J.a.loginBlock,children:Object(r.jsx)(X.b,{to:"/signin",children:"\u0412\u043e\u0439\u0442\u0438"})})})},Y=function(e){Object(W.a)(n,e);var t=Object(Z.a)(n);function n(){return Object(V.a)(this,n),t.apply(this,arguments)}return Object(G.a)(n,[{key:"render",value:function(){return Object(r.jsx)(Q,Object(d.a)({},this.props))}}]),n}(a.a.Component),$=Object(u.b)((function(e){return{email:e.auth.email,isAuth:e.auth.isAuth}}),{signout:function(){return function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.auth().signOut();case 3:t(v(null,null,!1)),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0.message),t(Object(h.b)("sigput",{_error:e.t0.message}));case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}})(Y),ee=n(24),te=n.n(ee),ne=function(){return Object(r.jsxs)("nav",{className:te.a.nav,children:[Object(r.jsx)("div",{className:te.a.item,children:Object(r.jsx)(X.b,{to:"/catalog",activeClassName:te.a.activeLink,children:"\u041a\u0430\u0442\u0430\u043b\u043e\u0433 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"})}),Object(r.jsx)("div",{className:"".concat(te.a.item," ").concat(te.a.active),children:Object(r.jsx)(X.b,{to:"/add_product",activeClassName:te.a.activeLink,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440"})}),Object(r.jsx)("div",{className:"".concat(te.a.item," ").concat(te.a.active),children:Object(r.jsx)(X.b,{to:"/signin",activeClassName:te.a.activeLink,children:"\u0412\u043e\u0439\u0442\u0438"})}),Object(r.jsx)("div",{className:"".concat(te.a.item," ").concat(te.a.active),children:Object(r.jsx)(X.b,{to:"/signup",activeClassName:te.a.activeLink,children:"\u0417\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u0441\u044f"})})]})},re=a.a.lazy((function(){return n.e(4).then(n.bind(null,288))})),ce=a.a.lazy((function(){return n.e(3).then(n.bind(null,286))})),ae=w(re),ie=w(ce),oe=a.a.memo((function(e){return Object(c.useEffect)((function(){e.initializeApp()}),[e.initializeApp]),e.initialized?(console.log("here"),Object(r.jsxs)("div",{className:"app-wrapper",children:[Object(r.jsx)($,{}),Object(r.jsx)(ne,{}),Object(r.jsxs)("div",{className:"app-wrapper-content",children:[Object(r.jsx)(s.b,{exact:!0,path:["/catalog","/"],render:function(){return Object(r.jsx)(ae,{})}}),Object(r.jsx)(s.b,{path:"/add_product",render:function(){return Object(r.jsx)(ie,{})}}),Object(r.jsx)(s.b,{exact:!0,path:"/catalog/:productKey",render:function(){return Object(r.jsx)(z,{})}}),Object(r.jsx)(s.b,{path:"/signin",render:function(){return Object(r.jsx)(H,{})}}),Object(r.jsx)(s.b,{path:"/signup",render:function(){return Object(r.jsx)(M,{})}})]})]})):Object(r.jsx)(L.a,{})})),se=Object(l.d)(s.f,Object(u.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){f.a.auth().onAuthStateChanged((function(n){if(n)return e(t(v(n.uid,n.email,!0))),!0;console.log("no login"),e(t(v(null,null,!1)))}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());Promise.all([t]).then((function(){e({type:x})}))}}}))(oe),ue=function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,287)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))},le=n(122),de=n(131),je=Object(l.c)({form:le.a,app:y,auth:g,products:S.b}),be=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,pe=Object(l.e)(je,be(Object(l.a)(de.a)));window.__store__=pe;var fe=pe;o.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(X.a,{children:Object(r.jsx)(u.a,{store:fe,children:Object(r.jsx)(se,{})})})}),document.getElementById("root")),ue()},35:function(e,t,n){"use strict";var r=n(57),c=(n(181),n(182),r.auth.Auth.Persistence.LOCAL),a=r.apps.length?r.app():r.initializeApp({apiKey:"AIzaSyB232ly-YH5BqFVivK6cZwpFCem-6F0Csk",authDomain:"testproj-30b12.firebaseapp.com",databaseURL:"https://testproj-30b12-default-rtdb.firebaseio.com",projectId:"testproj-30b12",storageBucket:"testproj-30b12.appspot.com",messagingSenderId:"288859036226",appId:"1:288859036226:web:2256619dd7e9892dac2bdb",measurementId:"G-6BVLDP7VT0"});a.auth().setPersistence(c),t.a=a},51:function(e,t,n){"use strict";n.d(t,"f",(function(){return w})),n.d(t,"e",(function(){return k})),n.d(t,"c",(function(){return E})),n.d(t,"d",(function(){return P})),n.d(t,"a",(function(){return F})),n.d(t,"g",(function(){return S}));var r=n(41),c=n(8),a=n.n(c),i=n(17),o=n(3),s=n(43),u=n(44),l=n(35),d=l.a.database().ref("/products"),j=l.a.storage().ref("/images"),b=new(function(){function e(){Object(s.a)(this,e)}return Object(u.a)(e,[{key:"isFileExists",value:function(e){return new Promise((function(t){j.child(e).getDownloadURL().then((function(e){console.log("File exists"),t(!0)})).catch((function(){console.log("File doesn't exist"),t(!1)}))}))}},{key:"removeFile",value:function(e){j.child(e).delete().then((function(){console.log("File deleted successfully")})).catch((function(e){console.log(e),console.log("Uh-oh, an error occurred!")}))}},{key:"loadFile",value:function(e,t){return new Promise((function(n){j.child(t).put(e).then(function(){var e=Object(i.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Uploaded a blob or file!"),console.log(t.metadata),e.next=4,new Promise((function(e){j.child(t.metadata.name).getDownloadURL().then((function(n){e([n,t.metadata.name])}))}));case 4:r=e.sent,n(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}},{key:"getAll",value:function(){return d}},{key:"get",value:function(e){return d.child(e)}},{key:"create",value:function(e){return d.push(e)}},{key:"update",value:function(e,t){return d.child(e).update(t)}},{key:"delete",value:function(e){return d.child(e).remove()}},{key:"deleteAll",value:function(){return d.remove()}}]),e}()),p=n(21),f="TOGGLE_IS_FETCHING",h="SET_PRODUCTS",m="SELECT_PRODUCT",O="UPDATE_PRODUCT",v="DELETE_PRODUCT",g="SET_LOADED_IMAGE_LINK",x={products:[],isFetching:!0,selectedProduct:null,loadedImageLink:null},_=function(e){return{type:f,isFetching:e}},y=function(e){return{type:h,products:e}},w=function(){var e=Object(i.a)(a.a.mark((function e(t){var n,r,c,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.isFileExists(t.name);case 2:return n=e.sent,r=t.name,n&&(c=+new Date,r="".concat(c,"-").concat(r)),console.log(r),e.next=8,Promise.all([b.loadFile(t,r)]);case 8:return i=e.sent,console.log("loadImage /// link"),console.log(i),e.abrupt("return",i[0]);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){return function(){var e=Object(i.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(_(!0)),e.prev=1,e.next=4,b.getAll().once("value",(function(e){var n=[],r=e.val();for(var c in r){console.log(c);var a=c,i=r[c];n.push({key:a,photo:i.photo,localPhoto:i.localPhoto,description:i.description,name:i.name,price:i.price,discount:i.discount,discountEndTime:i.discountEndTime})}t(y(n))}));case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0.message),console.log(e.t0.code);case 10:t(_(!1));case 11:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()},C=function(e,t){return{type:O,productKey:e,newData:t}},N=function(e){return{type:v,productKey:e}},E=function(e){return function(){var t=Object(i.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(_(!0)),t.prev=1,t.next=4,b.get(e).once("value",function(){var e=Object(i.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.val(),e.next=3,b.removeFile(n.localPhoto);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:return t.next=6,b.delete(e);case 6:n(N(e)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0.message),console.log(t.t0.code);case 13:n(_(!1));case 14:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},P=function(e){return function(){var t=Object(i.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(_(!0)),t.prev=1,t.next=4,b.get(e).once("value",(function(t){var r;console.log(t.val()),console.log(e),n((r=Object(o.a)(Object(o.a)({},t.val()),{},{key:e}),{type:m,product:r})),n(_(!1))}));case 4:t.next=11;break;case 6:t.prev=6,t.t0=t.catch(1),console.log(t.t0.message),console.log(t.t0.code),n(_(!1));case 11:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}()},F=function(e){return function(){var t=Object(i.a)(a.a.mark((function t(n){var c,i,s,u;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(_(!0)),t.prev=1,t.next=4,w(e.photo);case 4:return c=t.sent,i=Object(r.a)(c,2),s=i[0],u=i[1],t.next=10,b.create(Object(o.a)(Object(o.a)({},e),{},{photo:s,localPhoto:u}));case 10:n(Object(p.a)("addProduct")),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(1),console.log(t.t0.message),console.log(t.t0.code),n(Object(p.b)("addProduct",{_error:t.t0.message}));case 18:n(_(!1));case 19:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}()},S=function(e,t){return function(){var n=Object(i.a)(a.a.mark((function n(c){var i,s,u,l;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c(_(!0)),n.prev=1,!t.photo){n.next=9;break}return n.next=5,w(t.photo);case 5:u=n.sent,l=Object(r.a)(u,2),i=l[0],s=l[1];case 9:return n.next=11,b.update(e,Object(o.a)(Object(o.a)({},t),{},{photo:i,localPhoto:s}));case 11:c(C(e,t)),n.next=19;break;case 14:n.prev=14,n.t0=n.catch(1),console.log(n.t0.message),console.log(n.t0.code),c(Object(p.b)("updateProduct",{_error:n.t0.message}));case 19:c(_(!1));case 20:case"end":return n.stop()}}),n,null,[[1,14]])})));return function(e){return n.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(o.a)(Object(o.a)({},e),{},{products:t.products});case m:return Object(o.a)(Object(o.a)({},e),{},{selectedProduct:t.product});case g:return Object(o.a)(Object(o.a)({},e),{},{loadedImageLink:t.link});case O:return Object(o.a)(Object(o.a)({},e),{},{products:e.products.map((function(e){return e.key===t.productKey?e=t.newData:e}))});case v:return Object(o.a)(Object(o.a)({},e),{},{products:e.products.filter((function(e){return e.key!==t.productKey}))});case f:return Object(o.a)(Object(o.a)({},e),{},{isFetching:t.isFetching});default:return Object(o.a)({},e)}}},67:function(e,t,n){"use strict";var r=n(1),c=(n(0),n.p+"static/media/preloader1.81da48ab.gif"),a=n(130),i=n.n(a);t.a=function(e){return Object(r.jsx)("div",{className:i.a.container,children:Object(r.jsx)("img",{src:c})})}},75:function(e,t,n){e.exports={header:"Header_header__3FgV1",loginBlock:"Header_loginBlock__3Vg1n"}},97:function(e,t,n){"use strict";var r=n(3),c=n(43),a=n(44),i=n(73),o=n(72),s=n(1),u=n(0),l=n.n(u),d=n(16),j=n(13),b=function(e){return{isAuth:e.auth.isAuth,userId:e.auth.userId}};t.a=function(e){var t=function(t){Object(i.a)(u,t);var n=Object(o.a)(u);function u(){return Object(c.a)(this,u),n.apply(this,arguments)}return Object(a.a)(u,[{key:"render",value:function(){return this.props.isAuth?Object(s.jsx)(e,Object(r.a)({},this.props)):Object(s.jsx)(j.a,{to:"/signin"})}}]),u}(l.a.Component);return Object(d.b)(b)(t)}}},[[284,1,2]]]);
//# sourceMappingURL=main.d91a81ab.chunk.js.map