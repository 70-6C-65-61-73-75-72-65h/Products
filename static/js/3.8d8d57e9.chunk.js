(this.webpackJsonptest=this.webpackJsonptest||[]).push([[3],{424:function(e,t,c){"use strict";c.r(t);var a=c(11),n=c(185),s=c(86),d=c(2),i=c(0),r=c(186),o=c(18),l=c(28),b=c(24),j=c(115),u=c(27),m=c.n(u),O=c(195),h=c(17),f=c(194),p=c.n(f),g=Object(r.a)({form:"addProduct",validate:l.g})((function(e){var t=e.handleSubmit,c=e.pristine,a=e.reset,n=e.submitting,s=e.error,i=e.productLink,r=new Date,b="".concat(r.getYear()+1900,"-").concat(r.getMonth()+1<10?"0"+r.getMonth()+1:r.getMonth()+1,"-").concat(r.getDate()<10?"0"+r.getDate():r.getDate());return Object(d.jsxs)("form",{onSubmit:t,className:m.a.wholeForm,children:[Object(d.jsx)("div",{className:p.a.fieldDescr,children:"\u0418\u043c\u044f \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430"}),Object(o.d)("\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430","name",o.c,[l.f,l.c]),Object(d.jsx)("div",{className:p.a.fieldDescr,children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430"}),Object(o.d)("\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430","description",o.c,[l.e]),Object(d.jsx)("div",{className:p.a.fieldDescr,children:"\u0426\u0435\u043d\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430"}),Object(o.d)("\u0426\u0435\u043d\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430","price",o.c,[l.f,l.d]),Object(d.jsx)("div",{className:p.a.fieldDescr,children:"\u0421\u043a\u0438\u0434\u043a\u0430"}),Object(o.d)("\u0421\u043a\u0438\u0434\u043a\u0430","discount",o.c,[l.a]),Object(d.jsx)("div",{className:p.a.fieldDescr,children:"\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u0441\u043a\u0438\u0434\u043a\u0438"}),Object(o.d)("\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u0430\u043a\u0446\u0438\u0438","discountEndTime",o.c,[l.b],{type:"date",min:b,value:b}),!i&&Object(o.d)("\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0424\u043e\u0442\u043e ...","photo",o.a,[l.f]),s&&Object(d.jsx)("div",{className:m.a.formSummaryError,children:s}),Object(d.jsx)("div",{className:"",children:Object(d.jsx)("button",{type:"submit",disabled:c||n,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})}),Object(d.jsx)("div",{className:"",children:Object(d.jsx)("button",{type:"button",disabled:c||n,onClick:a,children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f"})})]})}));t.default=Object(h.d)(O.a,Object(b.b)((function(e){return{submittedImageLink:e.products.loadedImageLink}}),{addProduct:j.a,loadImage:j.f}))((function(e){var t=e.submittedImageLink,c=Object(s.a)(e,["submittedImageLink"]),r=Object(i.useState)(!1),l=Object(n.a)(r,2),b=l[0],j=l[1],u=Object(i.useRef)();Object(i.useEffect)((function(){b||(u.current?u.current.first&&Array.isArray(t)?(console.log("2"),u.current={second:!0}):u.current.second&&!t&&(console.log("3"),j(!0)):(console.log("1"),u.current={first:!0}))}),[b,j,u,t]);return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:p.a.productOperationContainer,children:[Object(d.jsx)("h1",{className:p.a.productOperationHeader,children:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0440\u043e\u0434\u0443\u043a\u0442"}),Object(d.jsx)("div",{className:p.a.productAdded,children:b&&"\u041f\u0440\u043e\u0434\u0443\u043a\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d "}),Object(d.jsx)(o.b,{onSubmit:function(e){console.log(e),c.loadImage(e.image)}}),Object(d.jsx)(g,{onSubmit:function(e){e.discountEndTime&&(e.discountEndTime=Date.parse(e.discountEndTime)),c.addProduct(Object(a.a)(Object(a.a)({},e),{},{photo:t[0],localPhoto:t[1]}))},productLink:t})]})})}))}}]);
//# sourceMappingURL=3.8d8d57e9.chunk.js.map