(this.webpackJsonptest=this.webpackJsonptest||[]).push([[3],{286:function(e,t,c){"use strict";c.r(t);var a=c(8),n=c.n(a),i=c(3),r=c(17),s=c(69),d=c(41),o=c(47),b=c(1),j=c(0),u=c(121),l=c(12),m=c(14),O=c(16),h=c(51),f=c(15),p=c.n(f),g=c(97),x=c(11),v=c(28),N=c.n(v),D=Object(u.a)({form:"addProduct",validate:m.j})((function(e){var t=e.handleSubmit,c=e.pristine,a=e.reset,n=e.submitting,i=e.error,r=new Date,s="".concat(r.getYear()+1900,"-").concat(r.getMonth()+1<10?"0"+r.getMonth()+1:r.getMonth()+1,"-").concat(r.getDate()<10?"0"+r.getDate():r.getDate());return Object(b.jsxs)("form",{onSubmit:t,className:p.a.wholeForm,children:[Object(b.jsx)("div",{className:N.a.fieldDescr,children:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"}),Object(l.d)("\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430","name",l.c,[m.i,m.c]),Object(b.jsx)("div",{className:N.a.fieldDescr,children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430"}),Object(l.d)("\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430","description",l.c,[m.h]),Object(b.jsx)("div",{className:N.a.fieldDescr,children:"\u0426\u0435\u043d\u0430 \u0442\u043e\u0432\u0430\u0440\u0430"}),Object(l.d)("\u0426\u0435\u043d\u0430 \u0442\u043e\u0432\u0430\u0440\u0430","price",l.b,[m.i,m.d]),Object(b.jsx)("div",{className:N.a.fieldDescr,children:"\u0421\u043a\u0438\u0434\u043a\u0430"}),Object(l.d)("\u0421\u043a\u0438\u0434\u043a\u0430","discount",l.b,[m.a]),Object(b.jsx)("div",{className:N.a.fieldDescr,children:"\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u0441\u043a\u0438\u0434\u043a\u0438"}),Object(l.d)("\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u0430\u043a\u0446\u0438\u0438","discountEndTime",l.b,[m.b],{type:"date",min:s,value:s}),Object(l.d)("\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0444\u043e\u0442\u043e ...","photo",l.a,[m.i,m.e,m.g,m.f],{mimeType:"image/jpeg, image/png",maxWidth:4e3,minHeight:200,minWidth:200,maxHeight:4e3,alt:"\u0424\u043e\u0442\u043e \u0442\u043e\u0432\u0430\u0440\u0430"}),i&&Object(b.jsx)("div",{className:p.a.formSummaryError,children:i}),Object(b.jsx)("div",{className:"",children:Object(b.jsx)("button",{type:"submit",disabled:c||n,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})}),Object(b.jsx)("div",{className:"",children:Object(b.jsx)("button",{type:"button",disabled:c||n,onClick:a,children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f"})})]})}));t.default=Object(x.d)(g.a,Object(O.b)((function(e){return{isFetching:e.products.isFetching}}),{addProduct:h.a,loadImage:h.f}))((function(e){var t,c,a=e.isFetching,u=Object(o.a)(e,["isFetching"]),l=Object(j.useState)(!1),m=Object(d.a)(l,2),O=m[0],h=m[1],f=Object(j.useRef)(),p=(t={},Object(s.a)(t,!0,"red"),Object(s.a)(t,!1,"blue"),t),g=(c={},Object(s.a)(c,!0,"\u0422\u043e\u0432\u0430\u0440 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d!"),Object(s.a)(c,!1,"\u0422\u043e\u0432\u0430\u0440 \u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f..."),c),x=Object(j.useState)(!0),v=Object(d.a)(x,2),y=v[0],w=v[1];Object(j.useEffect)((function(){O?w((function(e){return!e})):f.current&&(h(!0),w((function(e){return!e})))}),[O,h,a]);var E=function(){var e=Object(r.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.discountEndTime&&(t.discountEndTime=Date.parse(t.discountEndTime)),e.next=3,u.addProduct(Object(i.a)({},t));case 3:f.current=!0,console.log("refAdded.current"),console.log(f.current);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:N.a.productOperationContainer,children:[Object(b.jsx)("h1",{className:N.a.productOperationHeader,children:"\u041d\u043e\u0432\u044b\u0439 \u0442\u043e\u0432\u0430\u0440"}),Object(b.jsx)("div",{className:N.a.productAdded,style:O?{color:p[y]}:{},children:O&&g[y]}),Object(b.jsx)(D,{onSubmit:E})]})})}))}}]);
//# sourceMappingURL=3.cabe7001.chunk.js.map