(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{110:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){var e=new Date;return"".concat(e.getYear()+1900,"-").concat(e.getMonth()+1<10?"0"+e.getMonth()+1:e.getMonth()+1,"-").concat(e.getDate()<10?"0"+e.getDate():e.getDate())}},13:function(e,t,n){e.exports={formControl:"FormsControls_formControl__2ZNMf",error:"FormsControls_error__3FPkv",warning:"FormsControls_warning__3-9Ji",redux_form:"FormsControls_redux_form__2KMqr",formButtons:"FormsControls_formButtons__2Il_5",formSummaryError:"FormsControls_formSummaryError__M0EwL",header:"FormsControls_header__23ev9",wholeForm:"FormsControls_wholeForm__2BeEg",operationContainer:"FormsControls_operationContainer__3DNz2",operationHeader:"FormsControls_operationHeader__1NgkQ",imgContainer:"FormsControls_imgContainer__yj_cs",uploadIcon:"FormsControls_uploadIcon__1W7OA"}},131:function(e,t,n){e.exports={container:"Preloader_container__1VGeq"}},16:function(e,t,n){"use strict";n.d(t,"c",(function(){return j})),n.d(t,"b",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"a",(function(){return f}));var r=n(3),c=n(48),a=n(1),o=n(0),i=n(13),u=n.n(i),s=n(121),d=n.p+"static/media/Upload-icon.0ffb4073.png",l=function(e){e.input;var t=e.meta,n=t.touched,r=t.error,c=t.warning,o=e.children,i=n&&r,s=n&&c;return Object(a.jsxs)("div",{className:u.a.formControl+" "+(i?u.a.error:"")+" "+(s?u.a.warning:""),children:[o,i&&Object(a.jsx)("span",{children:r})||s&&Object(a.jsx)("span",{children:c})]})},j=function(e){var t=e.input,n=(e.meta,e.child,Object(c.a)(e,["input","meta","child"]));return Object(a.jsx)(l,Object(r.a)(Object(r.a)({},e),{},{children:Object(a.jsx)("textarea",Object(r.a)(Object(r.a)(Object(r.a)({},t),n),{},{ref:e.refa}))}))};function b(e){var t=e.input,n=(e.meta,e.child,Object(c.a)(e,["input","meta","child"]));return Object(a.jsx)(l,Object(r.a)(Object(r.a)({},e),{},{children:Object(a.jsx)("input",Object(r.a)(Object(r.a)(Object(r.a)({},t),n),{},{ref:e.refa}))}))}var p=function(e,t,n,c){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return Object(a.jsxs)("div",{className:"",children:[Object(a.jsx)(s.a,Object(r.a)({placeholder:e,name:t,component:n,validate:c},o)),i]})};function f(e){var t=Object.assign({},e),n=Object(o.useRef)(null),i=function(e){var t=Object(o.useRef)();return Object(o.useEffect)((function(){t.current=e})),t.current}(t.meta.pristine);Object(o.useEffect)((function(){!1===i&&!0===t.meta.pristine&&(n.current.src="")}),[t.meta.pristine]);var s=function(e,t){e.preventDefault();var r,c=e.target.files[0];if(c){var a=URL.createObjectURL(c),o=new window.Image;o.onload=function(){c.width=o.naturalWidth,c.height=o.naturalHeight,t.onChange(c),URL.revokeObjectURL(c)},o.src=a,r=a,n.current.src=r}e.currentTarget.value=null},j=t.input,b=(t.meta,t.child,Object(c.a)(t,["input","meta","child"]));return Object(a.jsxs)(l,Object(r.a)(Object(r.a)({},t),{},{children:[Object(a.jsx)("div",{className:u.a.imgContainer,children:Object(a.jsx)("img",{src:"",alt:t.alt,className:"preview-image",ref:n})}),Object(a.jsx)("label",{for:"thatImage",className:u.a.uploadIcon,children:Object(a.jsx)("img",{src:d,style:{width:"100px",height:"100px"},alt:"nothing"})}),Object(a.jsx)("input",Object(r.a)({id:"thatImage",name:j.name,style:{opacity:0,height:"0px"},type:"file",accept:t.mimeType,onChange:function(e){return s(e,j)}},b))]}))}},163:function(e,t,n){},164:function(e,t,n){},18:function(e,t,n){"use strict";n.d(t,"i",(function(){return s})),n.d(t,"c",(function(){return b})),n.d(t,"h",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return m})),n.d(t,"j",(function(){return O})),n.d(t,"g",(function(){return v})),n.d(t,"f",(function(){return g})),n.d(t,"e",(function(){return x}));var r,c,a,o,i,u,s=function(e){if(!e)return"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435!"},d=function(e){return function(t){return t&&t.length>e?"\u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 ".concat(e," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"):void 0}},l=(r=20,function(e){return e&&e.length<r?"\u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 ".concat(r," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"):void 0}),j=d(60),b=function(e){if(void 0!==l(e)||void 0!==j(e))return"M\u0438\u043d\u0438\u043c\u0443\u043c 20, \u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c 60 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"},p=d(200),f=function(e){if(void 0!==e){var t=+e;if(t.toFixed(2)==t){if(0<=t&&t<=99999999.99)return}return"\u0426\u0435\u043d\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 \u0441 2 \u0447\u0438\u0441\u043b\u0430\u043c\u0438 \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u043f\u044f\u0442\u043e\u0439: '0.00'. \u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435: '99999999.99'"}},h=function(e){if(void 0!==e){var t=+e;return Number.isInteger(t)?10<=t&&t<=90?void 0:"\u0427\u0438\u0441\u043b\u043e \u043d\u0435 \u0432 \u043f\u0440\u0435\u0434\u0435\u043b\u0430\u0445 10-90 %":"\u0427\u0438\u0441\u043b\u043e \u043d\u0435 \u0446\u0435\u043b\u043e\u0435"}},m=function(e){if(void 0!==e&&!(Date.parse(e)>+new Date))return"\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u0441\u043a\u0438\u0434\u043a\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u0434\u0430\u0442\u044b"},O=function(e){var t={};return e.discount?e.discountEndTime||(t.discountEndTime="\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435!"):e.discountEndTime&&(e.discount||(t.discount="\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435!")),t},v=(c=200,a=4e3,function(e){if(e&&(e.width>a||e.width<c))return"\u0428\u0438\u0440\u0438\u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 ".concat(c,"px  \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 ").concat(a,"px")}),g=(o=200,i=4e3,function(e){if(e&&(e.height>i||e.height<o))return"\u0412\u044b\u0441\u043e\u0442\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 ".concat(o,"px \u0438 \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 ").concat(i,"px")}),x=(u="image/jpeg, image/png",function(e){if(e&&!u.includes(e.type))return"\u0422\u0438\u043f \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043e\u0434\u043d\u0438\u043c \u0438\u0437: ".concat(u)})},286:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(0),a=n.n(c),o=n(69),i=n.n(o),u=(n(163),n(12)),s=(n(164),n(14)),d=n(11),l=n(3),j=n(8),b=n.n(j),p=n(15),f=n(34),h=n(21),m="SET_USER_DATA",O={userId:null,email:null,isAuth:!1},v=function(e,t,n){return{type:m,payload:{userId:e,email:t,isAuth:n}}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(l.a)(Object(l.a)({},e),t.payload);default:return Object(l.a)({},e)}},x="INITIALIZED_SUCCESS",_={initialized:!1},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(l.a)(Object(l.a)({},e),{},{initialized:!0});default:return Object(l.a)({},e)}};function w(e){return function(t){return Object(r.jsx)(a.a.Suspense,{fallback:Object(r.jsx)("div",{children:"loading..."}),children:Object(r.jsx)(e,Object(l.a)({},t))})}}var k=n(48),C=n(42),P=n(38),N=n(122),F=n(16),E=n(18),S=n(52),A=n(13),D=n.n(A),I=n(41),T=n.n(I),L=n(68),U=n(97),H=n(110),R=Object(N.a)({form:"updateProduct",validate:E.j})((function(e){var t=Object(c.useState)(Object.values(e.product).reduce((function(e,t){return e[t]=!1,e}),{})),n=Object(P.a)(t,2),a=n[0],o=n[1],i=e.handleSubmit,u=e.pristine,s=e.reset,d=e.submitting,j=e.error,b=e.product,p=function(e){o(Object(l.a)(Object(l.a)({},a),{},Object(C.a)({},e,!0)))},f=Object(c.useState)({}),h=Object(P.a)(f,2),m=h[0],O=h[1],v=Object(c.useRef)({});var g="name",x="photo",_="description",y="price",w="discount",k="discountEndTime",N=function(e){return{onBlur:function(){var t;!m[e]&&(t=e,v.current&&void 0!==v.current.value&&""!==v.current.value?(O((function(e){return Object(l.a)(Object(l.a)({},e),{},Object(C.a)({},t,!0))})),v.current=void 0):o(Object(l.a)(Object(l.a)({},a),{},Object(C.a)({},t,!1))))},onFocus:function(){p(e)},autoFocus:!0,refa:v}},S=function(e,t,n){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=arguments.length>5?arguments[5]:void 0;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:T.a.fieldDescr,children:t}),i||a[e]?Object(F.d)("".concat(b[e]||"..."),e,n,c,Object(l.a)(Object(l.a)({},o),N(e))):Object(r.jsx)("div",{id:e,onClick:function(){return p(e)},children:b[e]||"..."})]})},A=Object(H.a)();return Object(r.jsxs)("form",{onSubmit:i,className:D.a.wholeForm,children:[S(g,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430",F.c,[E.c]),Object(r.jsx)("div",{className:T.a.fieldDescr,children:"\u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u0444\u043e\u0442\u043e \u0442\u043e\u0432\u0430\u0440\u0430"}),Object(r.jsx)("div",{className:T.a.imgMiddleContainer,children:Object(r.jsx)("img",{src:b.photo,alt:"Data"})}),S(x,"\u041d\u043e\u0432\u043e\u0435 \u0444\u043e\u0442\u043e \u0442\u043e\u0432\u0430\u0440\u0430",F.a,[E.e,E.g,E.f],{mimeType:"image/jpeg, image/png",maxWidth:4e3,minHeight:200,minWidth:200,maxHeight:4e3,alt:"\u0424\u043e\u0442\u043e \u0442\u043e\u0432\u0430\u0440\u0430"},!0),S(_,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430",F.c,[E.h]),S(y,"\u0426\u0435\u043d\u0430 \u0442\u043e\u0432\u0430\u0440\u0430",F.b,[E.d]),S(w,"\u0421\u043a\u0438\u0434\u043a\u0430",F.b,[E.a]),S(k,"\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u0430\u043a\u0446\u0438\u0438",F.b,[E.b],{type:"date",min:A,value:A},!0),j&&Object(r.jsx)("div",{className:D.a.formSummaryError,children:j}),Object(r.jsx)("div",{className:"",children:Object(r.jsx)("button",{type:"submit",disabled:u||d,children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"})}),Object(r.jsx)("div",{className:"",children:Object(r.jsx)("button",{type:"button",disabled:u||d,onClick:s,children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f"})})]})})),B=Object(d.d)(U.a,Object(s.b)((function(e){return{isFetching:e.products.isFetching,currentProduct:e.products.selectedProduct}}),{getProduct:S.d,updateProduct:S.g}),u.f)((function(e){var t=e.updateProduct,n=e.getProduct,a=e.currentProduct,o=e.isFetching,i=Object(k.a)(e,["updateProduct","getProduct","currentProduct","isFetching"]),u=Object(c.useState)(!1),s=Object(P.a)(u,2),d=s[0],j=s[1],f=Object(c.useRef)();Object(c.useEffect)((function(){f.current&&i.history.push("/catalog")}),[o]);var h=function(){var e=Object(p.a)(b.a.mark((function e(n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.discountEndTime&&(n.discountEndTime=Date.parse(n.discountEndTime)),n.photo&&(n=Object(l.a)(Object(l.a)({},n),{},{newPhoto:!0})),r=Object(l.a)(Object(l.a)({},a),n),console.log(a),e.next=6,t(a.key,r);case 6:f.current=!0;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){d||function(){var e=Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.match.params.productKey){e.next=5;break}i.history.push("/catalog"),e.next=8;break;case 5:return e.next=7,n(t);case 7:j(!0);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[i.match.params.key,n,i.history,d]),d?Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:T.a.productOperationContainer,children:[Object(r.jsx)("h1",{className:T.a.productOperationHeader,children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440"}),Object(r.jsx)(R,{onSubmit:h,product:a})]})}):Object(r.jsx)(L.a,{})})),M=Object(N.a)({form:"signin"})((function(e){var t=e.handleSubmit,n=e.pristine,c=e.reset,a=e.submitting,o=e.error;return Object(r.jsxs)("form",{onSubmit:t,className:D.a.wholeForm,children:[Object(F.d)("Email","email",F.b,[E.i]),Object(F.d)("Password","password",F.b,[E.i],{type:"password"}),o&&Object(r.jsx)("div",{className:D.a.formSummaryError,children:o}),Object(r.jsx)("div",{className:"",children:Object(r.jsx)("button",{type:"submit",disabled:n||a,children:"\u0412\u043e\u0439\u0442\u0438"})}),Object(r.jsx)("div",{className:"",children:Object(r.jsx)("button",{type:"button",disabled:n||a,onClick:c,children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f"})})]})})),z=Object(s.b)((function(e){return{isAuth:e.auth.isAuth}}),{signin:function(e,t){return function(){var n=Object(p.a)(b.a.mark((function n(r){var c;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,f.a.auth().signInWithEmailAndPassword(e,t);case 3:c=n.sent,r(v(c.user.uid,e,!0)),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0.message),r(Object(h.b)("signin",{_error:n.t0.message}));case 11:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}})((function(e){return e.isAuth?Object(r.jsx)(u.a,{to:"/catalog"}):Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:D.a.operationContainer,children:[Object(r.jsx)("h1",{className:D.a.operationHeader,children:"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"}),Object(r.jsx)(M,{onSubmit:function(t){e.signin(t.email,t.password)}})]})})})),K=Object(N.a)({form:"signup"})((function(e){var t=e.handleSubmit,n=e.pristine,c=e.reset,a=e.submitting,o=e.error;return Object(r.jsxs)("form",{onSubmit:t,className:D.a.wholeForm,children:[Object(F.d)("Email","email",F.b,[E.i]),Object(F.d)("Password","password",F.b,[E.i],{type:"password"}),o&&Object(r.jsx)("div",{className:D.a.formSummaryError,children:o}),Object(r.jsx)("div",{className:"",children:Object(r.jsx)("button",{type:"submit",disabled:n||a,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})}),Object(r.jsx)("div",{className:"",children:Object(r.jsx)("button",{type:"button",disabled:n||a,onClick:c,children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f"})})]})})),V=Object(s.b)((function(e){return{isAuth:e.auth.isAuth}}),{signup:function(e,t){return function(){var n=Object(p.a)(b.a.mark((function n(r){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,f.a.auth().createUserWithEmailAndPassword(e,t);case 3:n.next=9;break;case 5:n.prev=5,n.t0=n.catch(0),console.log(n.t0.message),r(Object(h.b)("signup",{_error:n.t0.message}));case 9:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(e){return n.apply(this,arguments)}}()}})((function(e){return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:D.a.operationContainer,children:[Object(r.jsx)("h1",{className:D.a.operationHeader,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442"}),Object(r.jsx)(K,{onSubmit:function(t){e.signup(t.email,t.password)}})]})})})),G=n(44),W=n(45),J=n(73),Z=n(72),q=n(75),X=n.n(q),Y=n(19),Q=function(e){return Object(r.jsx)("header",{className:X.a.header,children:e.isAuth?Object(r.jsxs)("div",{className:X.a.loginBlock,children:[e.email," - ",Object(r.jsx)("a",{onClick:e.signout,children:"\u0412\u044b\u0439\u0442\u0438"})]}):Object(r.jsx)("div",{className:X.a.loginBlock,children:Object(r.jsx)(Y.b,{to:"/signin",children:"\u0412\u043e\u0439\u0442\u0438"})})})},$=function(e){Object(J.a)(n,e);var t=Object(Z.a)(n);function n(){return Object(G.a)(this,n),t.apply(this,arguments)}return Object(W.a)(n,[{key:"render",value:function(){return Object(r.jsx)(Q,Object(l.a)({},this.props))}}]),n}(a.a.Component),ee=Object(s.b)((function(e){return{email:e.auth.email,isAuth:e.auth.isAuth}}),{signout:function(){return function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.auth().signOut();case 3:t(v(null,null,!1)),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0.message),t(Object(h.b)("sigput",{_error:e.t0.message}));case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}})($),te=n(29),ne=n.n(te),re=function(){return Object(r.jsxs)("nav",{className:ne.a.nav,children:[Object(r.jsx)("div",{className:ne.a.item,children:Object(r.jsx)(Y.b,{to:"/catalog",activeClassName:ne.a.activeLink,children:"\u041a\u0430\u0442\u0430\u043b\u043e\u0433 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"})}),Object(r.jsx)("div",{className:"".concat(ne.a.item," "),children:Object(r.jsx)(Y.b,{to:"/add_product",activeClassName:ne.a.activeLink,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440"})}),Object(r.jsx)("div",{className:"".concat(ne.a.item,"  "),children:Object(r.jsx)(Y.b,{to:"/signin",activeClassName:ne.a.activeLink,children:"\u0412\u043e\u0439\u0442\u0438"})}),Object(r.jsx)("div",{className:"".concat(ne.a.item," "),children:Object(r.jsx)(Y.b,{to:"/signup",activeClassName:ne.a.activeLink,children:"\u0417\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u0441\u044f"})})]})},ce=a.a.lazy((function(){return n.e(4).then(n.bind(null,290))})),ae=a.a.lazy((function(){return n.e(3).then(n.bind(null,288))})),oe=w(ce),ie=w(ae),ue=a.a.memo((function(e){return Object(c.useEffect)((function(){e.initializeApp()}),[e.initializeApp]),e.initialized?(console.log("here"),Object(r.jsxs)("div",{className:"app-wrapper",children:[Object(r.jsx)(ee,{}),Object(r.jsx)(re,{}),Object(r.jsxs)("div",{className:"app-wrapper-content",children:[Object(r.jsx)(u.b,{exact:!0,path:["/catalog","/"],render:function(){return Object(r.jsx)(oe,{})}}),Object(r.jsx)(u.b,{path:"/add_product",render:function(){return Object(r.jsx)(ie,{})}}),Object(r.jsx)(u.b,{exact:!0,path:"/catalog/:productKey",render:function(){return Object(r.jsx)(B,{})}}),Object(r.jsx)(u.b,{path:"/signin",render:function(){return Object(r.jsx)(z,{})}}),Object(r.jsx)(u.b,{path:"/signup",render:function(){return Object(r.jsx)(V,{})}})]})]})):Object(r.jsx)(L.a,{})})),se=Object(d.d)(u.f,Object(s.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){f.a.auth().onAuthStateChanged((function(n){if(n)return e(t(v(n.uid,n.email,!0))),!0;console.log("no login"),e(t(v(null,null,!1)))}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());Promise.all([t]).then((function(){e({type:x})}))}}}))(ue),de=function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,289)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),c(e),a(e),o(e)}))},le=n(123),je=n(132),be=Object(d.c)({form:le.a,app:y,auth:g,products:S.b}),pe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||d.d,fe=Object(d.e)(be,pe(Object(d.a)(je.a)));window.__store__=fe;var he=fe;i.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(Y.a,{children:Object(r.jsx)(s.a,{store:he,children:Object(r.jsx)(se,{})})})}),document.getElementById("root")),de()},29:function(e,t,n){e.exports={nav:"Navbar_nav__12XVe",item:"Navbar_item__24jqm",activeLink:"Navbar_activeLink__2-6Px"}},34:function(e,t,n){"use strict";var r=n(58),c=(n(183),n(184),r.auth.Auth.Persistence.LOCAL),a=r.apps.length?r.app():r.initializeApp({apiKey:"AIzaSyB232ly-YH5BqFVivK6cZwpFCem-6F0Csk",authDomain:"testproj-30b12.firebaseapp.com",databaseURL:"https://testproj-30b12-default-rtdb.firebaseio.com",projectId:"testproj-30b12",storageBucket:"testproj-30b12.appspot.com",messagingSenderId:"288859036226",appId:"1:288859036226:web:2256619dd7e9892dac2bdb",measurementId:"G-6BVLDP7VT0"});a.auth().setPersistence(c),t.a=a},41:function(e,t,n){e.exports={imgSmallContainer:"Product_imgSmallContainer__JX_R7",imgMiddleContainer:"Product_imgMiddleContainer__1TK93",productOperationContainer:"Product_productOperationContainer__2CSib",productContainer:"Product_productContainer__3MSFE",fieldDescr:"Product_fieldDescr__1aSMZ",discount:"Product_discount__184h9",productHeader:"Product_productHeader__H-xzy",operationBlock:"Product_operationBlock__2SfVL",productOperationHeader:"Product_productOperationHeader__2BJsy",productAdded:"Product_productAdded__3IIyZ",catalog:"Product_catalog__3f8H9"}},52:function(e,t,n){"use strict";n.d(t,"f",(function(){return w})),n.d(t,"e",(function(){return k})),n.d(t,"c",(function(){return N})),n.d(t,"d",(function(){return F})),n.d(t,"a",(function(){return E})),n.d(t,"g",(function(){return S}));var r=n(38),c=n(8),a=n.n(c),o=n(15),i=n(3),u=n(44),s=n(45),d=n(34),l=d.a.database().ref("/products"),j=d.a.storage().ref("/images"),b=new(function(){function e(){Object(u.a)(this,e)}return Object(s.a)(e,[{key:"isFileExists",value:function(e){return new Promise((function(t){j.child(e).getDownloadURL().then((function(e){console.log("File exists"),t(!0)})).catch((function(){console.log("File doesn't exist"),t(!1)}))}))}},{key:"removeFile",value:function(e){j.child(e).delete().then((function(){console.log("File deleted successfully")})).catch((function(e){console.log(e),console.log("Uh-oh, an error occurred!")}))}},{key:"loadFile",value:function(e,t){return new Promise((function(n){j.child(t).put(e).then(function(){var e=Object(o.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Uploaded a blob or file!"),console.log(t.metadata),e.next=4,new Promise((function(e){j.child(t.metadata.name).getDownloadURL().then((function(n){e([n,t.metadata.name])}))}));case 4:r=e.sent,n(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}},{key:"getAll",value:function(){return l}},{key:"get",value:function(e){return l.child(e)}},{key:"create",value:function(e){return l.push(e)}},{key:"update",value:function(e,t){return l.child(e).update(t)}},{key:"delete",value:function(e){return l.child(e).remove()}},{key:"deleteAll",value:function(){return l.remove()}}]),e}()),p=n(21),f="TOGGLE_IS_FETCHING",h="SET_PRODUCTS",m="SELECT_PRODUCT",O="UPDATE_PRODUCT",v="DELETE_PRODUCT",g="SET_LOADED_IMAGE_LINK",x={products:[],isFetching:!0,selectedProduct:null,loadedImageLink:null},_=function(e){return{type:f,isFetching:e}},y=function(e){return{type:h,products:e}},w=function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r,c,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.isFileExists(t.name);case 2:return n=e.sent,r=t.name,n&&(c=+new Date,r="".concat(c,"-").concat(r)),console.log(r),e.next=8,Promise.all([b.loadFile(t,r)]);case 8:return o=e.sent,console.log("loadImage /// link"),console.log(o),e.abrupt("return",o[0]);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){return function(){var e=Object(o.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(_(!0)),e.prev=1,e.next=4,b.getAll().once("value",(function(e){var n=[],r=e.val();for(var c in r){console.log(c);var a=c,o=r[c];n.push({key:a,photo:o.photo,localPhoto:o.localPhoto,description:o.description,name:o.name,price:o.price,discount:o.discount,discountEndTime:o.discountEndTime})}t(y(n))}));case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0.message),console.log(e.t0.code);case 10:t(_(!1));case 11:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()},C=function(e,t){return{type:O,productKey:e,newData:t}},P=function(e){return{type:v,productKey:e}},N=function(e){return function(){var t=Object(o.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(_(!0)),t.prev=1,t.next=4,b.get(e).once("value",function(){var e=Object(o.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.val(),e.next=3,b.removeFile(n.localPhoto);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:return t.next=6,b.delete(e);case 6:n(P(e)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0.message),console.log(t.t0.code);case 13:n(_(!1));case 14:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},F=function(e){return function(){var t=Object(o.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(_(!0)),t.prev=1,t.next=4,b.get(e).once("value",(function(t){var r;console.log(t.val()),console.log(e),n((r=Object(i.a)(Object(i.a)({},t.val()),{},{key:e}),{type:m,product:r})),n(_(!1))}));case 4:t.next=11;break;case 6:t.prev=6,t.t0=t.catch(1),console.log(t.t0.message),console.log(t.t0.code),n(_(!1));case 11:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(o.a)(a.a.mark((function t(n){var c,o,u,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(_(!0)),t.prev=1,t.next=4,w(e.photo);case 4:return c=t.sent,o=Object(r.a)(c,2),u=o[0],s=o[1],t.next=10,b.create(Object(i.a)(Object(i.a)({},e),{},{photo:u,localPhoto:s}));case 10:n(Object(p.a)("addProduct")),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(1),console.log(t.t0.message),console.log(t.t0.code),n(Object(p.b)("addProduct",{_error:t.t0.message}));case 18:n(_(!1));case 19:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}()},S=function(e,t){return function(){var n=Object(o.a)(a.a.mark((function n(c){var o,u,s,d;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c(_(!0)),n.prev=1,!t.newPhoto){n.next=12;break}return n.next=5,w(t.photo);case 5:s=n.sent,d=Object(r.a)(s,2),o=d[0],u=d[1],t.newPhoto=void 0,t.photo=o,t.photo=u;case 12:return n.next=14,b.update(e,Object(i.a)({},t));case 14:c(C(e,t)),n.next=22;break;case 17:n.prev=17,n.t0=n.catch(1),console.log(n.t0.message),console.log(n.t0.code),c(Object(p.b)("updateProduct",{_error:n.t0.message}));case 22:c(_(!1));case 23:case"end":return n.stop()}}),n,null,[[1,17]])})));return function(e){return n.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(i.a)(Object(i.a)({},e),{},{products:t.products});case m:return Object(i.a)(Object(i.a)({},e),{},{selectedProduct:t.product});case g:return Object(i.a)(Object(i.a)({},e),{},{loadedImageLink:t.link});case O:return Object(i.a)(Object(i.a)({},e),{},{products:e.products.map((function(e){return e.key===t.productKey?e=t.newData:e}))});case v:return Object(i.a)(Object(i.a)({},e),{},{products:e.products.filter((function(e){return e.key!==t.productKey}))});case f:return Object(i.a)(Object(i.a)({},e),{},{isFetching:t.isFetching});default:return Object(i.a)({},e)}}},68:function(e,t,n){"use strict";var r=n(1),c=(n(0),n.p+"static/media/preloader1.81da48ab.gif"),a=n(131),o=n.n(a);t.a=function(e){return Object(r.jsx)("div",{className:o.a.container,children:Object(r.jsx)("img",{src:c})})}},75:function(e,t,n){e.exports={header:"Header_header__3FgV1",loginBlock:"Header_loginBlock__3Vg1n"}},97:function(e,t,n){"use strict";var r=n(3),c=n(44),a=n(45),o=n(73),i=n(72),u=n(1),s=n(0),d=n.n(s),l=n(14),j=n(12),b=function(e){return{isAuth:e.auth.isAuth,userId:e.auth.userId}};t.a=function(e){var t=function(t){Object(o.a)(s,t);var n=Object(i.a)(s);function s(){return Object(c.a)(this,s),n.apply(this,arguments)}return Object(a.a)(s,[{key:"render",value:function(){return this.props.isAuth?Object(u.jsx)(e,Object(r.a)({},this.props)):Object(u.jsx)(j.a,{to:"/signin"})}}]),s}(d.a.Component);return Object(l.b)(b)(t)}}},[[286,1,2]]]);
//# sourceMappingURL=main.9c539cff.chunk.js.map